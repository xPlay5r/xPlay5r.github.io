<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header h2 {
            margin: 0;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–ª–µ—à–∫–∞—Ä—Ç–æ—á–µ–∫ */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            max-width: 1200px;
            width: 100%;
        }

        .card {
            perspective: 1000px;
            height: 200px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4em;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            border: 3px solid rgba(255,255,255,0.2);
            padding: 15px;
            box-sizing: border-box;
            text-align: center;
            line-height: 1.2;
        }

        .card-front {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            color: #2d3748;
        }

        .card-back {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
            transform: rotateY(180deg);
        }

        .card:hover .card-inner {
            transform: scale(1.05);
        }

        .card.flipped:hover .card-inner {
            transform: rotateY(180deg) scale(1.05);
        }

        .controls {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            font-size: 1em;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .progress {
            margin-top: 20px;
            color: white;
            font-size: 1.1em;
            text-align: center;
            background: rgba(0,0,0,0.2);
            padding: 10px 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
        .test-section {
            width: 100%;
            max-width: 800px;
            margin-top: 40px;
            display: none;
        }

        .question-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .question-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 25px;
        }

        .answer-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .answer-option {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 15px 20px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .answer-option:hover:not(.disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .answer-option.correct {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            animation: correctAnswer 0.5s ease;
        }

        .answer-option.incorrect {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
            animation: incorrectAnswer 0.5s ease;
        }

        .answer-option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }

        .test-result {
            margin: 20px 0;
            font-size: 1.2em;
            font-weight: bold;
            min-height: 30px;
        }

        .test-result.correct {
            color: #38a169;
        }

        .test-result.incorrect {
            color: #e53e3e;
        }

        .test-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.9);
            padding: 15px 25px;
            border-radius: 15px;
            margin: 20px 0;
            color: #2d3748;
            font-weight: bold;
        }

        .test-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .next-btn {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%) !important;
            margin-top: 15px;
        }

        .next-btn:hover {
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%) !important;
        }

        .final-result {
            text-align: center;
            padding: 40px 20px;
        }

        .result-emoji {
            font-size: 4em;
            margin-bottom: 20px;
            animation: bounce 1s infinite alternate;
        }

        @keyframes bounce {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-10px); }
        }

        .result-title {
            font-size: 2em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .result-score {
            font-size: 1.5em;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .cards-container {
                grid-template-columns: 1fr;
                max-width: 350px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .header h2 {
                font-size: 1.5em;
            }
            
            .card-front, .card-back {
                font-size: 1.2em;
            }

            .answer-options {
                grid-template-columns: 1fr;
            }
            
            .question-text {
                font-size: 1.3em;
            }
            
            .test-progress {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .question-card {
                padding: 20px;
            }

            .controls, .test-controls {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- –°–µ–∫—Ü–∏—è —Ñ–ª–µ—à–∫–∞—Ä—Ç–æ—á–µ–∫ -->
    <div id="flashcardsSection">
        <div class="header">
            <h1>üéØ Let's party! Module 1 A Spotlight-9</h1>
            <p>Click on the cards to see translation</p>
        </div>

        <div class="cards-container" id="cardsContainer">
        </div>

        <div class="controls">
            <button class="btn" onclick="flipAllCards()">üîÑ Turn over all the cards</button>
            <button class="btn" onclick="resetCards()">üîÉ Reset</button>
            <button class="btn" onclick="shuffleCards()">üé≤ Mix</button>
            <button class="btn" onclick="startTest()">üéØ Start the test</button>
        </div>

        <div class="progress" id="progress">
            Learnt: 0 from 12 cards
        </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="test-section" id="testSection">
        <div class="header">
            <h2>üéØ Test</h2>
            <p>Check your knowledge!</p>
        </div>
        
        <div class="test-container">
            <div class="question-card" id="questionCard">
                <div class="question-text" id="questionText"></div>
                <div class="answer-options" id="answerOptions"></div>
                <div class="test-result" id="testResult"></div>
                <button class="btn next-btn" id="nextBtn" onclick="nextQuestion()" style="display: none;">Next question</button>
            </div>
            
            <div class="test-progress">
                <div class="test-score" id="testScore">Right answers: 0 –∏–∑ 0</div>
                <div class="test-question-counter" id="questionCounter">Question 0 –∏–∑ 0</div>
            </div>
        </div>
        
        <div class="test-controls">
            <button class="btn" onclick="startTest()">üîÑ Start again</button>
            <button class="btn" onclick="showFlashcards()">üìö Back to cards</button>
        </div>
    </div>

    <script>
        const words = [
            { russian: '–∫–æ—Å—Ç–µ—Ä', english: 'bonfire' },
            { russian: '–ø—Ä–æ—â–∞–Ω–∏–µ', english: 'farewell' },
            { russian: '–≤–∑–æ—Ä–≤–∞—Ç—å—Å—è', english: 'to burst' },
            { russian: '–ø–æ—Ö–∏—â–µ–Ω–∏–µ', english: 'kidnap' },
            { russian: '—Å–º–µ–Ω–∞ –æ–¥–µ–∂–¥—ã', english: 'change of clothes' },
            { russian: '—à—É—Ç–æ—á–Ω—ã–π', english: 'mock' },
            { russian: '–±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', english: 'charity' },
            { russian: '—Å–æ–±—Ä–∞—Ç—å –¥–µ–Ω—å–≥–∏ –¥–ª—è –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏', english: 'to raise money for charity' },
            { russian: '–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç', english: 'competitor' },
            { russian: '—Ç—Ä–µ–±–æ–≤–∞—Ç—å', english: 'to require' },
            { russian: '–∫—É–ª–∏–Ω–∞—Ä–Ω—ã–π –∫–æ–Ω–∫—É—Ä—Å', english: 'cooking contest' },
            { russian: '–≤—ã–ø—É—Å–∫–∞—Ç—å', english: 'to let off' }
        ];

        let flippedCards = new Set();
        let currentQuestion = 0;
        let correctAnswers = 0;
        let testQuestions = [];
        let userAnswers = [];

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ñ–ª–µ—à–∫–∞—Ä—Ç–æ—á–µ–∫
        function createCards() {
            const container = document.getElementById('cardsContainer');
            container.innerHTML = '';
            
            words.forEach((word, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.setAttribute('data-index', index);
                
                card.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front">
                            ${word.russian}
                        </div>
                        <div class="card-back">
                            ${word.english}
                        </div>
                    </div>
                `;
                
                card.addEventListener('click', () => flipCard(card, index));
                container.appendChild(card);
            });
            
            updateProgress();
        }

        function flipCard(cardElement, index) {
            cardElement.classList.toggle('flipped');
            
            if (cardElement.classList.contains('flipped')) {
                flippedCards.add(index);
            } else {
                flippedCards.delete(index);
            }
            
            updateProgress();
        }

        function flipAllCards() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                if (!card.classList.contains('flipped')) {
                    card.classList.add('flipped');
                    flippedCards.add(index);
                }
            });
            updateProgress();
        }

        function resetCards() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => card.classList.remove('flipped'));
            flippedCards.clear();
            updateProgress();
        }

        function shuffleCards() {
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –º–∞—Å—Å–∏–≤ —Å–ª–æ–≤
            for (let i = words.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [words[i], words[j]] = [words[j], words[i]];
            }
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
            flippedCards.clear();
            createCards();
        }

        function updateProgress() {
            const progress = document.getElementById('progress');
            progress.textContent = `Learnt: ${flippedCards.size} from ${words.length} cards`;
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function startTest() {
            // –°–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç
            document.getElementById('flashcardsSection').style.display = 'none';
            document.getElementById('testSection').style.display = 'block';
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ—Å—Ç
            currentQuestion = 0;
            correctAnswers = 0;
            userAnswers = [];
            testQuestions = [...words].sort(() => Math.random() - 0.5);
            
            showQuestion();
        }

        function showFlashcards() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å–∫—Ä—ã–≤–∞–µ–º —Ç–µ—Å—Ç
            document.getElementById('flashcardsSection').style.display = 'block';
            document.getElementById('testSection').style.display = 'none';
        }

        function showQuestion() {
            if (currentQuestion >= testQuestions.length) {
                showTestResults();
                return;
            }

            const question = testQuestions[currentQuestion];
            const isRussianToEnglish = Math.random() > 0.5;
            
            const questionText = document.getElementById('questionText');
            const answerOptions = document.getElementById('answerOptions');
            const testResult = document.getElementById('testResult');
            const nextBtn = document.getElementById('nextBtn');
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            testResult.textContent = '';
            testResult.className = 'test-result';
            nextBtn.style.display = 'none';
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å
            if (isRussianToEnglish) {
                questionText.textContent = `What's the English for: "${question.russian}"?`;
            } else {
                questionText.textContent = `What's the Russian for: "${question.english}"?`;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
            const correctAnswer = isRussianToEnglish ? question.english : question.russian;
            const incorrectAnswers = words
                .filter(w => w !== question)
                .map(w => isRussianToEnglish ? w.english : w.russian)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3);
            
            const allOptions = [correctAnswer, ...incorrectAnswers].sort(() => Math.random() - 0.5);
            
            answerOptions.innerHTML = '';
            allOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = option;
                button.onclick = () => checkAnswer(option, correctAnswer, button);
                answerOptions.appendChild(button);
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
            updateTestProgress();
        }

        function checkAnswer(selectedAnswer, correctAnswer, buttonElement) {
            const isCorrect = selectedAnswer === correctAnswer;
            const testResult = document.getElementById('testResult');
            const nextBtn = document.getElementById('nextBtn');
            const allButtons = document.querySelectorAll('.answer-option');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            allButtons.forEach(btn => btn.classList.add('disabled'));
            
            // –ü–æ–º–µ—á–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç—ã
            allButtons.forEach(btn => {
                if (btn.textContent === correctAnswer) {
                    btn.classList.add('correct');
                } else if (btn === buttonElement && !isCorrect) {
                    btn.classList.add('incorrect');
                }
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if (isCorrect) {
                correctAnswers++;
                testResult.textContent = '‚úÖ Correct!';
                testResult.className = 'test-result correct';
            } else {
                testResult.textContent = `‚ùå Wrong. The right answer is: ${correctAnswer}`;
                testResult.className = 'test-result incorrect';
            }
            
            userAnswers.push({
                question: testQuestions[currentQuestion],
                selectedAnswer,
                correctAnswer,
                isCorrect
            });
            
            nextBtn.style.display = 'block';
            updateTestProgress();
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function updateTestProgress() {
            const testScore = document.getElementById('testScore');
            const questionCounter = document.getElementById('questionCounter');
            
            testScore.textContent = `Right answers: ${correctAnswers} from ${Math.min(currentQuestion + 1, testQuestions.length)}`;
            questionCounter.textContent = `Question ${currentQuestion + 1} from ${testQuestions.length}`;
        }

        function showTestResults() {
            const questionCard = document.getElementById('questionCard');
            const percentage = Math.round((correctAnswers / testQuestions.length) * 100);
            
            let resultEmoji = 'üéâ';
            let resultText = 'Fantastic!';
            let resultColor = '#38a169';
            
            if (percentage < 50) {
                resultEmoji = 'üìö';
                resultText = 'Need more learning';
                resultColor = '#e53e3e';
            } else if (percentage < 80) {
                resultEmoji = 'üëç';
                resultText = 'Good!';
                resultColor = '#d69e2e';
            }
            
            questionCard.innerHTML = `
                <div class="final-result" style="color: ${resultColor};">
                    <div class="result-emoji">${resultEmoji}</div>
                    <div class="result-title">${resultText}</div>
                    <div class="result-score">
                        Your score is: ${correctAnswers} from ${testQuestions.length} (${percentage}%)
                    </div>
                </div>
            `;

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—á–µ—Ç—á–∏–∫
            document.getElementById('testScore').textContent = `Right answers: ${correctAnswers} from ${testQuestions.length}`;
            document.getElementById('questionCounter').textContent = `Test is over!`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        createCards();
    </script>
</body>
</html>
